---
title: Guides
hide_title: true
sidebar_position: 2
---

<!--
 FROM   @site/src/components/templates/PageHardware
 VER    1.0.3
-->

import { HardwareTitle } from '@site/src/components/templates/PageHardware';
import { HardwareSpecsProvidedText, HardwareSpecsProvidedTable } from '@site/src/components/templates/PageHardware';

export const hardware_name = "SVBox IoT"
export const hardware_status = "Available"
export const hardware_code = "svbox_10"



<HardwareTitle
  name={hardware_name}
  status={hardware_status} />

# Guides

Before starting, it is advisable to **review the device list** from
the [Hardware Requirements](/docs/hardware/svbox_10/resources#hardware-requirements).
After that, understand how and where to position the Smart Van Box inside your
van. Finally, **proceed with the [assembly guides](#assembly-hardware), adapting
them to your needs**.

To complete the construction of your Smart Van Box, you need
to **[install the object's software](#install-software) on the Raspberry Pi**.
There are two methods: the first method provides the complete OS
image: [JOD Smart Van image](/docs/software/jod_smart_van/jod_smart_van_image),
to be flashed onto the Raspberry Pi's SD card; while the second method allows
you to download and run [JOD Smart Van](/docs/software/jod_smart_van/jod_smart_van)
on an existing system.

Now, all that's left is to mount your new SmartVan Box onto your vehicle and
connect it. The box requires to be connected to a power line (12V) and to the
camper's services lines (trough the relays). Now you can power it on.

**Once your Smart Van Box is powered on, you can launch
the [SV Mobile App](/docs/software#sv_mobile_app)** from your smart phone and
initiate the first configuration procedure.


## Assembly hardware

With the aim of making the assembly of the device as simple and intuitive as
possible, we have chosen to use so-called HAT modules: boards designed to be
stacked one on top of the other just like a cake, or LEGO bricks. In addition,
there are three other boards (2x gas sensors + GPIO Expander) that need to be connected
via cables to the main block of the device that also contains the Raspberry Pi.

After ordering and receiving all the components, you can proceed with the assembly:
create your tower using the following sequence (from bottom to top):
* UPS
* Raspberry Pi
* LTE/GNSS module
* Sensors module

After that, you can also connect the remaining boards using the available pins
on top of the sensor module. The GPIO Extender can be connected to the I2C PINS
of the Sense Hat module, like the GAS sensor (analog) can be connected to the
analog pins always from the Sense Hat module. Remember that, also the UPS
module must be connected via UART to the main Raspberry board.

## Install Software

### A. Flash the SD Card

1. **Download JOD Smart Van Image:**<br/>
  Ensure you have downloaded the
  latest [JOD Smart Van image](/docs/software/jod_smart_van/jod_smart_van_image) from the
  official page and store it on your computer.
2. **Prepare SD Card:**<br/>
  Insert the SD card into your computer and use a tool
  like [RPi Imager](https://www.raspberrypi.com/software/),
  [Etcher](https://www.balena.io/etcher/) or [Rufus](https://rufus.ie/) to
  flash the JOD Smart Van image onto the SD card. Make sure to select the
  correct drive and confirm the process.
3. **Customize the JOD Smart Van:** (optional)<br/>
  Once the flashing process is complete, you can mount the SD card partitions
  from your computer and customize the JOD Smart Van configuration files.
  Configs files are located in the `root` partition of the SD card into the
  `/opt/jod_smart_van` folder.
4. **Insert SD Card into Raspberry Pi:**<br/>
  Once the flashing process is complete, safely eject the SD card from your
  computer and insert it into the Raspberry Pi.
5. **Power Up Raspberry Pi:**<br/>
  After ensuring that you have connected the power supply of the IoT box to
  the corresponding output of the Integration box, you can power up the
  Raspberry Pi using the switch located on the UPS Pack_V3.<br/>
  Alternatively, you have the option to charge the UPS Pack_V3 battery and
  directly power your Raspberry Pi with it.
6. **Connect the SV Mobile App:**<br/>
  A few moments after powering up, launch
  the [SV Mobile App](/docs/software#sv_mobile_app) on your smartphone and open
  the 'first setup' function for your Smart Van Box. Wait for the new Smart Van
  Box to be detected (via the emitted WiFi network), then follow the guided
  setup procedure.

*Note: Always refer to the official JOD Smart Van and SV Mobile App
documentation for detailed instructions and troubleshooting tips during the
flashing and connection process.*


### B. Download and install

Here are the manual installation steps for the JOD Smart Van software on the
Raspberry Pi. These steps are useful if you want to install the software on an
existing system. Make sure that the Raspberry Pi is configured to allows an SSH
connection.

1. **Connect to your Raspberry Pi using SSH:**<br/>
  Use a tool like [PuTTY](https://www.putty.org/) or the terminal to connect to
  your Raspberry Pi using SSH. Then, navigate to the desired installation
  directory on your Raspberry Pi.
  ```bash
  $ ssh pi@<Raspberry_Pi_IP_Address>
  rpi$ mkdir -p /opt/jod_smart_van
  rpi$ cd /opt/jod_smart_van
  ```
  Ensure that you replace `<Raspberry_Pi_IP_Address>` with the actual IP
  address of your Raspberry Pi, and to have the necessary credentials to log in.
2. **Configure RaspberryPi communication ports:**<br/>
  Enable the communication ports by adding the following line to the
  `/boot/config.txt` file, then reboot.
  ```bash
  rpi$ sudo nano /boot/config.txt
  rpi$ sudo reboot
  ```
  ```bash
  enable_uart=1
  ... missing lines, check the JOD Smart Van Image repository as reference
  ```
3. **Download JOD Smart Van:**<br/>
  Using `wget`, download the latest JOD Smart Van release from the official and
  extract it.
  [GitHub repository](https://github.com/Smart-Van-2-0/com.robypomper.smartvan.jod_smart_van/releases/).
   ```bash
   rpi$ wget https://github.com/Smart-Van-2-0/com.robypomper.smartvan.jod_smart_van/releases/download/0.1.0/JOD_Smart_Van-0.1.0.tar.xz
   rpi$ tar -xf JOD_Smart_Van-0.1.0.tar.xz
   ```
4. **Run the JOD Smart Van daemon:**<br/>
  After changing directory to the JOD Smart Van folder, you can run the JOS
  Smart Van as a background daemon or a command line application (useful for
  debugging purpose).
   ```bash
   rpi$ cd JOD_Smart_Van-0.1.0
   rpi$ bash start.sh TRUE     # run it as a command line application
   rpi$ bash start.sh          # run it as a background daemon
   rpi$ bash stop.sh           # halt the background daemon
   ```
   The JOD Smart Van can be installed as a system service and executed at
   startup. To do so, you can use the provided installation script.
   ```bash
   rpi$ sudo bash install.sh
   ```
