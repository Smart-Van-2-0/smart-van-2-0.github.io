"use strict";(self.webpackChunksmart_van_2_0_github_io=self.webpackChunksmart_van_2_0_github_io||[]).push([[9271],{3817:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>l,contentTitle:()=>a,default:()=>x,frontMatter:()=>o,metadata:()=>c,software_category:()=>m,software_code:()=>u,software_language:()=>_,software_name:()=>d,software_status:()=>p,software_version:()=>h,specs_provided:()=>g,toc:()=>f});var t=s(4848),n=s(8453),i=s(2349);const o={title:"FW Victron",hide_title:!0,sidebar_position:1},a=void 0,c={id:"software/firmware/fw_victron/index",title:"FW Victron",description:"\x3c!--",source:"@site/docs/software/firmware/fw_victron/index.mdx",sourceDirName:"software/firmware/fw_victron",slug:"/software/firmware/fw_victron/",permalink:"/docs/software/firmware/fw_victron/",draft:!1,unlisted:!1,editUrl:"https://github.com/smart-van-2-0/smart-van-2-0.github.io/edit/main/docs/software/firmware/fw_victron/index.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"FW Victron",hide_title:!0,sidebar_position:1},sidebar:"docsSidebar",previous:{title:"Downloads",permalink:"/docs/software/sv_mobile_app/downloads"},next:{title:"FW SIM7600",permalink:"/docs/software/firmware/fw_sim7600/"}},l={},d="FW Victron",p="Development",u="fw_victron",h="1.0.2",m="Firmware",_="Python",g=[{fw_value:"battery_voltage",group:"Energy",sub_group:"Storage",spec:"Voltage"},{fw_value:"battery_voltage_percentage",group:"Energy",sub_group:"Storage",spec:"Percentage"},{fw_value:"battery_voltage_min",group:"Energy",sub_group:"Storage",spec:"Min"},{fw_value:"battery_voltage_max",group:"Energy",sub_group:"Storage",spec:"Max"},{fw_value:"battery_current",group:"Energy",sub_group:"Generation",spec:"Current"},{fw_value:"panel_voltage",group:"Energy",sub_group:"Generation",spec:"Voltage"},{fw_value:"panel_power",group:"Energy",sub_group:"Generation",spec:"Power"},{fw_value:"panel_power_percent",group:"Energy",sub_group:"Generation",spec:"Percentage"},{fw_value:"panel_power_max",group:"Energy",sub_group:"Generation",spec:"Max Power"},{fw_value:"load_current",group:"Energy",sub_group:"Consumption",spec:"Current"},{fw_value:"load_voltage",group:"Energy",sub_group:"Consumption",spec:"Voltage"},{fw_value:"load_power",group:"Energy",sub_group:"Consumption",spec:"Power"},{fw_value:"load_power_percent",group:"Energy",sub_group:"Consumption",spec:"Percentage"},{fw_value:"load_power_max",group:"Energy",sub_group:"Consumption",spec:"Max Power"}],f=[{value:"Specs provided",id:"specs-provided",level:2},{value:"Usage",id:"usage",level:2}];function v(e){const r={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Uo,{name:d,status:p}),"\n",(0,t.jsxs)(i.VG,{name:d,code:u,category:m,language:_,current_status:p,current_version:h,url_logo:"/img/software/firmware/fw_victron/fw_victron_image.png",url_repo:"https://github.com/Smart-Van-2-0/com.robypomper.smartvan.fw.victron/",url_downloads:"https://github.com/Smart-Van-2-0/com.robypomper.smartvan.fw.victron/tags/",url_support:"https://github.com/Smart-Van-2-0/com.robypomper.smartvan.fw.victron/issues/",children:[(0,t.jsxs)(r.p,{children:["Introducing our Python module designed for seamless ",(0,t.jsxs)(r.strong,{children:["data retrieval\nfrom ",(0,t.jsx)(r.a,{href:"https://www.victronenergy.com/",children:"Victron"})," devices"]})," with VE.Direct\nsupport, delivering real-time updates on the local DBus. Aligned with the JOD\nSmart Vans specifications, this script caters specifically ",(0,t.jsxs)(r.strong,{children:["to the\nEnergy's ",(0,t.jsx)(r.a,{href:"/docs/specs/energy/storage",children:"Storage"}),", ",(0,t.jsx)(r.a,{href:"/docs/specs/energy/generation",children:"Generation"}),"\nand ",(0,t.jsx)(r.a,{href:"/docs/specs/energy/consumption",children:"Consumption"})," specification"]})," sub-groups,\nproviding essential values."]}),(0,t.jsxs)(r.p,{children:["Once activated, the script effortlessly reads data from the specified serial\nport and promptly updates the DBus with the latest values. The DBus service and\nits properties dynamically adapt to the PID retrieved from the device. To\ndetermine if your Victron device is compatible with this firmware, explore the\n",(0,t.jsx)(r.a,{href:"https://github.com/Smart-Van-2-0/com.robypomper.smartvan.fw.victron/blob/main/docs/supported_devices.md#devices-by-pid",children:"Devices by ID"}),"\nsection and discover the available data mappings on\nthe ",(0,t.jsx)(r.a,{href:"https://github.com/Smart-Van-2-0/com.robypomper.smartvan.fw.victron/blob/main/docs/values_mapping.md",children:"Value mapping"}),"\npage."]})]}),"\n",(0,t.jsx)(r.h2,{id:"specs-provided",children:"Specs provided"}),"\n",(0,t.jsx)(i.e0,{}),"\n",(0,t.jsx)(i.N8,{specs_provided:g}),"\n",(0,t.jsx)(r.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(r.p,{children:"Effortlessly gather data from your Victron device by following these\nstraightforward steps. Physically connect the Victron device to your PC using a\nSerial To USB cable. Download the firmware (a Python script) and execute it on\nthe connected PC, compatible with USB-equipped PCs or embedded devices like the\nRaspberry Pi."}),"\n",(0,t.jsxs)(r.p,{children:["Before running the firmware, (1) verify the serial port name and (2) install the\nnecessary software prerequisites. Upon connection, a virtual device is generated,\nand you can confirm the port name in your PC's resource center or via\nthe ",(0,t.jsx)(r.code,{children:"ls /dev/tty*"})," command, defaulting to ",(0,t.jsx)(r.code,{children:"/dev/ttyUSB0"}),"."]}),"\n",(0,t.jsxs)(r.p,{children:["For software prerequisites, install a ",(0,t.jsx)(r.a,{href:"https://www.python.org",children:"Python"}),"\ninterpreter and project dependencies using the ",(0,t.jsx)(r.code,{children:"python -r requirements.txt"}),"\ncommand."]}),"\n",(0,t.jsx)(r.p,{children:"Now, you're ready to execute the firmware with the following command:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-shell",children:"$ python run.py -p {PORT_NAME}\n"})}),"\n",(0,t.jsxs)(r.p,{children:["For detailed insights into running the firmware, consult\nthe ",(0,t.jsx)(r.a,{href:"https://github.com/Smart-Van-2-0/com.robypomper.smartvan.fw.victron#readme",children:"README.md"}),"\nin the source code or visit the ",(0,t.jsx)(r.a,{href:"https://github.com/Smart-Van-2-0/com.robypomper.smartvan.fw.victron/blob/main/docs/remote_usage.md",children:"Remote Usage"}),"\npage."]})]})}function x(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(v,{...e})}):v(e)}},9683:(e,r,s)=>{s.d(r,{A:()=>i});s(6540);const t={img_container:"img_container_ABGT",img_link:"img_link_Hl3U",img_tag:"img_tag_oucX"};var n=s(4848);function i(e){return(0,n.jsx)("div",{className:t.img_container,children:(0,n.jsx)("a",{href:e.link?e.link:e.src,className:t.img_link,children:(0,n.jsx)("img",{src:e.src,alt:e.alt,width:e.width?e.width:"100%",className:t.img_tag})})})}},7109:(e,r,s)=>{s.d(r,{A:()=>i});s(6540);const t={container:"container_mzDT",h1:"h1_n6cG"};var n=s(4848);function i(e){return(0,n.jsx)("div",{className:t.container,children:(0,n.jsxs)("h1",{className:t.h1,children:[e.section," - ",e.subsection]})})}},3161:(e,r,s)=>{s.d(r,{r0:()=>p,Wx:()=>i,A:()=>o,PD:()=>c,OM:()=>l,hB:()=>a,Ay:()=>u});s(6540);const t={web_site_map:"web_site_map_qmuZ"};var n=s(4848);function i(){return(0,n.jsx)("a",{href:"/docs",children:"DOCS"})}function o(){return(0,n.jsx)("a",{href:"/docs/features",children:"FEATURES"})}function a(){return(0,n.jsx)("a",{href:"/docs/specs",children:"SPECIFICATIONS"})}function c(){return(0,n.jsx)("a",{href:"/docs/hardware",children:"HARDWARE"})}function l(){return(0,n.jsx)("a",{href:"/docs/software",children:"SOFTWARE"})}function d(){return(0,n.jsx)("a",{href:"/about",children:"ABOUT"})}function p(){return(0,n.jsx)("a",{href:"/collaborate",children:"COLLABORATE"})}function u(){return(0,n.jsxs)("div",{className:t.web_site_map,children:[(0,n.jsx)(o,{}),"|",(0,n.jsx)(c,{}),"|",(0,n.jsx)(l,{}),"|",(0,n.jsx)(a,{}),"|",(0,n.jsx)(d,{}),"|",(0,n.jsx)(p,{})]})}},2349:(e,r,s)=>{s.d(r,{VG:()=>l,N8:()=>p,e0:()=>d,Uo:()=>c});s(6540);const t={tmpl_container:"tmpl_container_A9hk",specs_table:"specs_table_BWcA",head_container:"head_container_KR7S",descr:"descr_CuXp",lists_container:"lists_container_Qejd",logo:"logo_Y7bK",list:"list_tLdV",list_item:"list_item_WUvh"};var n=s(9683),i=s(7109),o=s(3161),a=s(4848);function c(e){return(0,a.jsx)(i.A,{section:"Software",subsection:e.name})}function l(e){return(0,a.jsxs)("div",{className:t.head_container,children:[(0,a.jsxs)("div",{className:t.lists_container,children:[e.url_logo?(0,a.jsxs)("div",{children:[(0,a.jsx)(n.A,{src:e.url_logo,width:"200px"}),(0,a.jsx)("hr",{})]}):null,(0,a.jsx)("h3",{children:"Status"}),(0,a.jsxs)("ul",{className:t.list,children:[(0,a.jsxs)("li",{className:t.list_item,children:[(0,a.jsx)("b",{children:"Status:"})," ",e.current_status]}),(0,a.jsxs)("li",{className:t.list_item,children:[(0,a.jsx)("b",{children:"Version:"})," ",e.current_version]}),(0,a.jsxs)("li",{className:t.list_item,children:[(0,a.jsx)("b",{children:"Category:"})," ",e.category]}),(0,a.jsxs)("li",{className:t.list_item,children:[(0,a.jsx)("b",{children:"Language:"})," ",e.language]}),(0,a.jsxs)("li",{className:t.list_item,children:[(0,a.jsx)("b",{children:"Code:"})," ",e.code]})]}),(0,a.jsx)("hr",{}),(0,a.jsx)("h3",{children:"Links"}),(0,a.jsxs)("ul",{className:t.list,children:[e.url_repo?(0,a.jsx)("li",{className:t.list_item,children:(0,a.jsx)("a",{href:e.url_repo+"",children:"Git Repo"})}):"",e.url_docs?(0,a.jsx)("li",{className:t.list_item,children:(0,a.jsx)("a",{href:e.url_docs+"",children:"Docs"})}):"",e.url_downloads?(0,a.jsx)("li",{className:t.list_item,children:(0,a.jsx)("a",{href:e.url_downloads+"",children:"Downloads"})}):"",e.url_support?(0,a.jsx)("li",{className:t.list_item,children:(0,a.jsx)("a",{href:e.url_support+"",children:"Support"})}):""]})]}),(0,a.jsx)("div",{className:t.descr,children:e.children})]})}function d(){return(0,a.jsxs)("p",{children:["The following table lists all Smart Van ",(0,a.jsx)(o.hB,{})," that can be provided by this firmware. Then, you can use this info to customize the `struct.jod` file of the ",(0,a.jsx)("a",{href:"/docs/software/jod_smart_van/jod_smart_van",children:"JOD Smart Van"})," distribution."]})}function p(e){return(0,a.jsxs)("table",{className:t.specs_table,children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Property Name"}),(0,a.jsx)("th",{children:"Specification"})]}),Object.keys(e.specs_provided).map(((r,s)=>{const t=e.specs_provided[r].fw_value,n=e.specs_provided[r].group,i=e.specs_provided[r].sub_group,o=e.specs_provided[r].spec;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsx)("code",{children:t})}),(0,a.jsx)("td",{children:(0,a.jsxs)("a",{href:"/docs/specs/"+n+"/"+i+"#"+o,children:[n," > ",i," > ",o]})})]},s)}))]})}},8453:(e,r,s)=>{s.d(r,{R:()=>o,x:()=>a});var t=s(6540);const n={},i=t.createContext(n);function o(e){const r=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);